---
// HomeContainer.astro - Minimalist Design with Dark/Light Theme Toggle
import { SOCIAL_LINKS, EXTERNAL_LINKS } from "../lib/constants";
import { Moon, Sun, Github, Linkedin, MoveRight } from "lucide-astro";
---

<main class="min-h-screen bg-base transition-colors duration-300">
    <div class="max-w-[65ch] mx-auto px-5 sm:px-6 lg:px-8 py-16 sm:py-20 md:py-28 lg:py-32">
        <!-- Theme Toggle -->
        <div class="flex justify-end mb-8 sm:mb-12">
            <button
                id="theme-toggle"
                class="theme-toggle"
                aria-label="Toggle theme"
            >
                <span class="theme-toggle-knob flex items-center justify-center">
                    <!-- Moon icon (shows in dark mode) -->
                    <Moon class="w-3 h-3 text-dark hidden dark:block" />
                    <!-- Sun icon (shows in light mode) -->
                    <Sun class="w-3 h-3 text-light block dark:hidden" />
                </span>
            </button>
        </div>

        <!-- Content -->
        <div class="space-y-6 sm:space-y-8 animate-fade-in">
            <!-- Intro -->
            <div class="space-y-3 sm:space-y-4">
                <h1 class="text-primary">
                    Iqbal Fasri
                </h1>
                <p class="text-muted font-mono">
                    Frontend Developer
                </p>
            </div>

            <!-- Bio -->
            <div class="space-y-4 sm:space-y-5 text-secondary">
                <p>
                    A frontend developer with 6+ years experience. Currently working remotely at
                    <a
                        href={EXTERNAL_LINKS.fr8labs}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="link-accent"
                    >FR8Labs</a>,
                    a Singapore-based startup, as a founding team member—building a logistics platform handling complex data grids and PDF reporting.
                </p>
                <p>
                    Previously worked on esports platforms, marketing microsites, NFT projects, design systems, and performance optimization. What I love: making complex stuff simple and fast.
                </p>
            </div>

            <!-- Tech Stack -->
            <div class="space-y-3">
                <p class="text-subtle font-mono text-sm">Stack I work with</p>
                <p class="text-secondary">
                    React · TypeScript · Next.js · React Native · GraphQL · Bun
                </p>
            </div>

            <!-- Social Links -->
            <div class="flex flex-wrap items-center gap-3 sm:gap-4 pt-2 sm:pt-4">
                <a
                    href={SOCIAL_LINKS.github}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-2 text-muted hover-accent transition-colors duration-200"
                >
                    <Github class="w-[1.25em] h-[1.25em]" />
                    <span class="font-mono">GitHub</span>
                </a>

                <a
                    href={SOCIAL_LINKS.linkedin}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="inline-flex items-center gap-2 text-muted hover-accent transition-colors duration-200"
                >
                    <Linkedin class="w-[1.25em] h-[1.25em]" />
                    <span class="font-mono">LinkedIn</span>
                </a>
            </div>

            <!-- Navigation Links -->
            <div class="flex flex-col gap-2 sm:gap-3">
                <a
                    href="/blog"
                    class="group inline-flex items-center gap-2 text-primary hover:text-accent transition-colors duration-200 w-fit font-mono"
                >
                    <span>Blog</span>
                    <MoveRight class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-200" />
                </a>

                <a
                    href="/projects"
                    class="group inline-flex items-center gap-2 text-primary hover:text-accent transition-colors duration-200 w-fit font-mono"
                >
                    <span>Projects</span>
                    <MoveRight class="w-4 h-4 transform group-hover:translate-x-1 transition-transform duration-200" />
                </a>
            </div>
        </div>
    </div>
</main>

<script>
    const toggle = document.getElementById("theme-toggle");

    function setTheme(theme: string) {
        document.documentElement.classList.remove("light", "dark");
        document.documentElement.classList.add(theme);
        localStorage.setItem("theme", theme);
    }

    toggle?.addEventListener("click", () => {
        const currentTheme = document.documentElement.classList.contains("dark") ? "dark" : "light";
        const newTheme = currentTheme === "dark" ? "light" : "dark";
        setTheme(newTheme);
    });
</script>
