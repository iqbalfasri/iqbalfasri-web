---
import type { Post } from "../lib/posts";

interface Props {
  posts: Post[];
}

const { posts } = Astro.props;
---

{posts.length === 0 ? (
  <div class="text-muted">
    <p>No posts yet</p>
  </div>
) : (
  <div class="space-y-6">
    {posts.map((post) => (
      <article class="group">
        <a href={`/blog/${post.slug}`} class="block space-y-1">
          <h3 class="text-primary text-base font-medium group-hover:text-accent transition-colors duration-200">
            {post.title}
          </h3>

          <p class="text-muted font-mono text-xs tracking-wide">
            <time datetime={post.date}>
              {new Date(post.date).toLocaleDateString("en-US", {
                year: "numeric",
                month: "short",
                day: "numeric",
              })}
            </time>
            {post.tags && post.tags.length > 0 && (
              <>
                <span class="mx-2">Â·</span>
                <span>{post.tags.join(", ")}</span>
              </>
            )}
          </p>
        </a>
      </article>
    ))}
  </div>
)}
